<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>SoundSphere</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <link rel="icon" type="image/x-icon" href="https://www.google.com/favicon.ico">
</head>

<body>
    <div class="main">
        <div class="sidebar">
            <div class="nav">
                <div class="nav-option" style="opacity: 1;">
                    <i class="fa-solid fa-house"></i>
                    <a href="#">Home</a>
                </div>
                <div class="nav-option">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <a href="#">Search</a>
                </div>
            </div>
            <div class="library">
                <div class="options">
                    <div class="lib-option nav-option">
                        <i class="fa-solid fa-list"></i>
                        <a href="#">Your Library</a>
                        <br>
                        <a href="final.html">Artists</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main Content Section -->
        <div class="main-content">
            <div class="header">
                <h1>Home</h1>
                <h2>Top picks for you</h2>
                <p>Popular albums we think you'll like</p>
            </div>

            <div class="card-container">
                <div class="card">
                    <a href="album1.html">
                        <img src="assets/sza.jpg" alt="SOS" class="card-img">
                    </a>
                    <p class="card-title"><a href="album1.html">SOS</a></p>
                    <p class="card-info">Album by SZA</p>
                </div>
                <div class="card">
                    <a href="album2.html">
                        <img src="assets/strokes.jpg" alt="The New Abnormal" class="card-img">
                    </a>
                    <p class="card-title"><a href="album2.html">The New Abnormal</a></p>
                    <p class="card-info">Album by The Strokes</p>
                </div>
                <div class="card">
                    <a href="album3.html">
                        <img src="assets/correctmadeintheam.jpeg" alt="Made In The A.M." class="card-img">
                    </a>
                    <p class="card-title"><a href="album3.html">Made In The A.M.</a></p>
                    <p class="card-info">Album by One Direction</p>
                </div>
                <div class="card">
                    <a href="album4.html">
                        <img src="assets/hitmehardandsoft.jpg" alt="Hit Me Hard and Soft" class="card-img">
                    </a>
                    <p class="card-title"><a href="album4.html">Hit Me Hard and Soft</a></p>
                    <p class="card-info">Album by Billie Eilish</p>
                </div>
            </div>

            <br>
            <h2>Made for you</h2>
            <p>Curated playlists based on what you play</p>
            <div class="card-container">
                <div class="card">
                    <img src="assets/favs.png" alt="Favourites Mix" class="card-img">
                    <p class="card-title"><a href="favmix.html">Favourites Mix</a></p>
                    <p class="card-info">The songs you love</p>
                </div>
                <div class="card">
                    <img src="assets/chill2.png" alt="Chill Mix" class="card-img">
                    <p class="card-title"><a href="chillmix.html">Chill Mix</a></p>
                    <p class="card-info">Songs to help you relax & unwind</p>
                </div>
                <div class="card">
                    <img src="assets/rotation.png" alt="Heavy Rotation Mix" class="card-img">
                    <p class="card-title"><a href="heavymix.html">Heavy Rotation Mix</a></p>
                    <p class="card-info">The tracks you can't get enough of</p>
                </div>
                <div class="card">
                    <img src="assets/new.png" alt="New Music Mix" class="card-img">
                    <p class="card-title"><a href="newmusic.html">New Music Mix</a></p>
                    <p class="card-info">New music from artists you like</p>
                </div>
            </div>

            <br><br>
            <div class="trending-container">
                <h2>Trending Songs <span>›</span></h2>
                <ul class="song-list">
                    <li class="song-item">
                        <img src="assets/diewithasmile.jpeg" alt="Die With a Smile">
                        <div class="song-info">
                            <p class="song-title">Die With a Smile</p>
                            <p class="artist">Lady Gaga, Bruno Mars</p>
                        </div>
                        <button class="play-button" data-file="diewithasmile.mp3" data-cover="diewithasmile.jpeg" data-artist="Lady Gaga, Bruno Mars">
                            <i class="fa-solid fa-play"></i>
                        </button>
                        <button class="more-options">⋮</button>
                    </li>
                    <li class="song-item">
                        <img src="assets/gnx.jpeg" alt="Luther">
                        <div class="song-info">
                            <p class="song-title">Luther</p>
                            <p class="artist">Kendrick Lamar, SZA</p>
                        </div>
                        <button class="play-button" data-file="luther.mp3" data-cover="gnx.jpeg" data-artist="Kendrick Lamar, SZA">
                            <i class="fa-solid fa-play"></i>
                        </button>
                        <button class="more-options">⋮</button>
                    </li>
                    <li class="song-item">
                        <img src="assets/thatsotrue.jpeg" alt="that's so true">
                        <div class="song-info">
                            <p class="song-title">i love u, i'm sorry</p>
                            <p class="artist">Gracie Abrams</p>
                        </div>
                        <button class="play-button" data-file="ilyis.mp3" data-cover="thatsotrue.jpeg" data-artist="Gracie Abrams">
                            <i class="fa-solid fa-play"></i>
                        </button>
                        <button class="more-options">⋮</button>
                    </li>
                    <li class="song-item">
                        <img src="assets/fixyou.jpeg" alt="fix you">
                        <div class="song-info">
                            <p class="song-title">Fix You</p>
                            <p class="artist">Coldplay</p>
                        </div>
                        <button class="play-button" data-file="Fix You.mp3" data-cover="fixyou.jpeg" data-artist="Coldplay">
                            <i class="fa-solid fa-play"></i>
                        </button>
                        <button class="more-options">⋮</button>
                    </li>
                </ul>
            </div>

            <br><br>
            <h2>Browse by Genre</h2>
            <div class="card-container">
                <div class="card">
                    <img src="assets/rock.png" alt="Rock" class="card-img">
                    <p class="card-title">Rock</p>
                </div>
                <div class="card">
                    <img src="assets/pop.png" alt="Pop" class="card-img">
                    <p class="card-title">Pop</p>
                </div>
                <div class="card">
                    <img src="assets/indie.png" alt="Indie/Alternative" class="card-img">
                    <p class="card-title">Indie/Alternative</p>
                </div>
                <div class="card">
                    <img src="assets/hiphop.jpeg" alt="Rap/Hip-Hop" class="card-img">
                    <p class="card-title">Rap/Hip-Hop</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Music Player Section -->
    <div class="music-player">
        <div class="album">
            <img src="assets/hotelcalifornia.jpeg" alt="Album Cover" width="80" height="80" id="album-cover">
            <div class="name">
                <p class="firstword" id="song-title">&nbsp;&nbsp;Hotel California</p>
                <br>
                <p class="secondword" id="song-artist">Eagles</p>
            </div>
        </div>
        <div class="player">
            <div class="player-controls">
                <i id="shuffle" class="fa-solid fa-shuffle"></i>
                <i id="prev" class="fa-solid fa-backward-step"></i>
                <i id="playPauseBtn" class="fa-regular fa-circle-play" style="font-size: 2rem; margin-top: -17px;"></i>
                <i id="next" class="fa-solid fa-forward-step"></i>
                <i id="repeat" class="fa-solid fa-repeat"></i>
            </div>
            <div class="playback-bar">
                <span class="curr-time" id="curr-time">00:00&nbsp;</span>
                <input type="range" id="progress-bar" min="0" max="100" value="0">
                <span class="to-time" id="to-time">&nbsp;-</span>
            </div>
        </div>
        <div class="controls">
            <img src="assets/pngegg.png" alt="Volume Icon" style="height: 25px; width: 25px;">
            &nbsp;
            <input type="range" id="volume-bar" min="0" max="100" value="80">
        </div>
    </div>
    <audio id="audio-player" src="assets/audio/Hotel California (2013 Remaster).mp3" preload="metadata"></audio>
    

    <script>
        const audioPlayer = document.getElementById("audio-player");
        const playPauseBtn = document.getElementById("playPauseBtn");
        const songTitle = document.getElementById("song-title");
        const songArtist = document.getElementById("song-artist");
        const albumCover = document.getElementById("album-cover");
        const progressBar = document.getElementById("progress-bar");
        const currTime = document.getElementById("curr-time");
        const toTime = document.getElementById("to-time");
        const repeatButton = document.getElementById("repeat");
        const volumeBar = document.getElementById("volume-bar");
        
        let isPlaying = false;
        let repeatMode = false;

        audioPlayer.volume = 0.8;

        function loadAndPlaySong(file, title, artist, cover) {
            audioPlayer.src = `assets/audio/${file}`;
            songTitle.innerHTML = `&nbsp;&nbsp;${title}`;
            songArtist.textContent = artist;
            albumCover.src = `assets/${cover}`;
            
            audioPlayer.addEventListener(
                "loadedmetadata",
                () => {
                    toTime.textContent = formatTime(audioPlayer.duration);
                    audioPlayer.play();
                    isPlaying = true;
                    updatePlayPauseButton(true);
                },
                { once: true }
            );
        }
        
        function togglePlayPause() {
            if (isPlaying) {
                audioPlayer.pause();
                updatePlayPauseButton(false);
            } else {
                audioPlayer.play();
                updatePlayPauseButton(true);
            }
            isPlaying = !isPlaying;
        }
        
        function updatePlayPauseButton(isPlaying) {
            if (isPlaying) {
                playPauseBtn.classList.remove("fa-circle-play");
                playPauseBtn.classList.add("fa-circle-pause");
            } else {
                playPauseBtn.classList.remove("fa-circle-pause");
                playPauseBtn.classList.add("fa-circle-play");
            }
        }
        
        document.querySelectorAll(".play-button").forEach((btn) => {
            btn.addEventListener("click", (event) => {
                const songFile = event.currentTarget.dataset.file;
                const songTitle = event.currentTarget.previousElementSibling.querySelector(".song-title").textContent;
                const songArtist = event.currentTarget.dataset.artist;
                const coverSrc = event.currentTarget.dataset.cover;
                loadAndPlaySong(songFile, songTitle, songArtist, coverSrc);
            });
        });
        
        function formatTime(time) {
            const minutes = Math.floor(time / 60);
            const seconds = Math.floor(time % 60);
            return `${minutes}:${seconds < 10 ? "0" : ""}${seconds}`;
        }
        
        audioPlayer.addEventListener("timeupdate", () => {
            if (!isNaN(audioPlayer.duration)) {
                const currentTime = audioPlayer.currentTime;
                const duration = audioPlayer.duration;
                progressBar.value = (currentTime / duration) * 100;
                currTime.textContent = formatTime(currentTime);
                toTime.textContent = formatTime(duration);
            }
        });
        
        progressBar.addEventListener("input", (event) => {
            const seekTime = (event.target.value / 100) * audioPlayer.duration;
            audioPlayer.currentTime = seekTime;
        });
        
        progressBar.addEventListener("mousedown", () => {
            audioPlayer.removeEventListener("timeupdate", updateProgressBar);
        });

        progressBar.addEventListener("mouseup", () => {
            audioPlayer.addEventListener("timeupdate", updateProgressBar);
        });

        function updateProgressBar() {
            if (!isNaN(audioPlayer.duration)) {
                const currentTime = audioPlayer.currentTime;
                const duration = audioPlayer.duration;
                progressBar.value = (currentTime / duration) * 100;
                currTime.textContent = formatTime(currentTime);
                toTime.textContent = formatTime(duration);
            }
        }
        
        audioPlayer.addEventListener("ended", () => {
            if (repeatMode) {
                audioPlayer.currentTime = 0;
                audioPlayer.play();
            } else {
                updatePlayPauseButton(false);
                isPlaying = false;
            }
        });
        
        repeatButton.addEventListener("click", () => {
            repeatMode = !repeatMode;
            repeatButton.classList.toggle("active", repeatMode);
        });
        
        volumeBar.addEventListener("input", (e) => {
            audioPlayer.volume = e.target.value / 100;
        });
        
        playPauseBtn.addEventListener("click", () => {
            if (audioPlayer.src === "" || audioPlayer.src.endsWith("undefined")) {
                loadAndPlaySong("Hotel California (2013 Remaster).mp3", "Hotel California", "Eagles", "hotelcalifornia.jpeg");
            } else {
                togglePlayPause();
            }
        });

    </script>
</body>

</html>